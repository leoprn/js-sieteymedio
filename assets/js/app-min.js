const mod=(()=>{"use strict";let e=[];const t=["B","E","O","C"];let n=0,o=0,r=null==localStorage.getItem("puntajeHistoricoBanca")?0:localStorage.getItem("puntajeHistoricoBanca"),s=null===localStorage.getItem("puntajeHistoricoJugador")?0:localStorage.getItem("puntajeHistoricoJugador");const a=document.querySelector("#btnNuevo"),l=document.querySelector("#btnPedir"),c=document.querySelector("#btnDetener"),i=document.querySelectorAll("small"),d=document.querySelector("#jugador-cartas"),u=document.querySelector("#computadora-cartas"),g=document.querySelector("#historicoJugador"),m=document.querySelector("#historicoBanca");g.innerHTML=`<strong> ${s} </strong> `,m.innerHTML=`<strong> ${r} </strong> `,a.style.display="inline",l.style.display="none",c.style.display="none";const y=document.getElementById("myModal"),p=document.querySelector("#btnCerrarModal"),S=document.querySelector("#textoModal"),L=()=>{if(0===e.length)throw"No hay mas cartas para repartir";return c.style.display="inline",e.pop()},T=e=>{let t=1*e.substring(0,e.length-1);return t>7?.5:t},b=()=>{console.clear(),e=[],n=0,o=0,i[0].innerText=n,i[1].innerText=o,u.innerHTML="",d.innerHTML="",a.style.display="none",l.style.display="inline",l.disabled=!1,c.style.display="none",c.disabled=!1,e=(()=>{for(let n=1;n<=12;n++)8!=n&&9!=n&&t.forEach(t=>{e.push(n>7?n+t:"0"+n+t)});return _.shuffle(e)})()},A=e=>{do{const t=L();o+=T(t),i[1].innerText=o;const n=document.createElement("img");if(n.src=`assets/cartas/${t}.png`,n.classList.add("carta"),u.append(n),e>7.5)break}while(o<e&&e<=7.5);setTimeout(()=>{H(o,e)},80)},H=(e,t)=>(a.disabled=!1,l.disabled=!0,c.disabled=!0,t>7.5?E():e>7.5?M():e>=t?E():M()),M=()=>(s=q("puntajeHistoricoJugador"),g.innerHTML=`<strong> ${s} </strong>`,h("GANASTE!!","textoModalGanaste","winner.gif")),E=()=>(r=q("puntajeHistoricoBanca"),m.innerHTML=`<strong> ${r} </strong>`,h("LA BANCA GANA!!","textoModalPerdiste","losser.gif")),h=(e,t,n)=>{y.style.display="block",S.classList.add(t),S.innerHTML=`<img  src='assets/img/${n}' alt='' class='emoticon col-4'>\n        <p class = "col-8 ${t}"> <strong> ${e} </strong></p> `},q=e=>{let t=localStorage.getItem(e);return t=1*t+1,localStorage.setItem(e,t),t};a.addEventListener("click",()=>{b()}),l.addEventListener("click",()=>{const e=L();n+=T(e),i[0].innerText=n;const t=document.createElement("img");t.src=`assets/cartas/${e}.png`,t.classList.add("carta"),d.append(t),n>7.5&&(a.disabled=!1,l.disabled=!0,c.disabled=!0,setTimeout(()=>{h("TE PASASTE, LA BANCA GANA!!","textoModalPerdiste","losser.gif"),A(n)},10))}),c.addEventListener("click",()=>{A(n)}),p.addEventListener("click",()=>{y.style.display="none",b()})})();